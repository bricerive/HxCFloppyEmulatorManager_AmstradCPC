;--------------------------------------------------------
; File Created by SDCC : free open source ANSI-C Compiler
; Version 3.3.0 8604 (May 11 2013) (MINGW32)
; This file was generated Sun Oct 15 00:37:52 2017
;--------------------------------------------------------
	
;--------------------------------------------------------
; Public variables in this module
;--------------------------------------------------------
;--------------------------------------------------------
; special function registers
;--------------------------------------------------------
;--------------------------------------------------------
; ram data
;--------------------------------------------------------
;--------------------------------------------------------
; ram data
;--------------------------------------------------------
;--------------------------------------------------------
; absolute external ram data
;--------------------------------------------------------
;--------------------------------------------------------
; global & static initialisations
;--------------------------------------------------------
;--------------------------------------------------------
; Home
;--------------------------------------------------------
;--------------------------------------------------------
; code
;--------------------------------------------------------
;_strlen.c:2: unsigned short z80_strlen ( const char * str )
;	---------------------------------
; Function z80_strlen
; ---------------------------------
_z80_strlen_start:
_z80_strlen:
;_strlen.c:19: __endasm;
	push ix
	ld ix, 0
	add ix, sp
	ld l, (ix+4)
	ld h, (ix+5)
	xor a
	ld bc, 0
	cpir
	ld hl, -1
	sbc hl, bc ; C flag still cleared from xor above
	pop ix
	ret
_z80_strlen_end:

IF NOT DEFINED _strlen

; strlen.s
_strlen:
	pop bc
	pop hl
	push hl
	push bc
	xor a
	ld b, a
	ld c, a
	cpir
	ld hl, -1
	sbc hl, bc
	ret

ENDIF

